CREATE DATABASE cookbook;
USE cookbook;

CREATE TABLE `recipe` (
  `recipe_id` int NOT NULL AUTO_INCREMENT,
  `recipe_name` varchar(255) NOT NULL UNIQUE,
  `img_path` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`recipe_id`)
);

CREATE TABLE `ingredient` (
  `ingredient_id` int NOT NULL AUTO_INCREMENT,
  `recipe_id` int NOT NULL,
  `ingredient_name` varchar(100) NOT NULL,
  `quantity` int NOT NULL,
  `unit` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`ingredient_id`),
  FOREIGN KEY (`recipe_id`) REFERENCES `recipe`(`recipe_id`) ON DELETE CASCADE
);

CREATE TABLE `step` (
  `step_id` int NOT NULL AUTO_INCREMENT,
  `recipe_id` int NOT NULL,
  `instruction` text NOT NULL,
  PRIMARY KEY (`step_id`),
  FOREIGN KEY (`recipe_id`) REFERENCES `recipe`(`recipe_id`) ON DELETE CASCADE
);